{% extends "base.html" %}
{% block title %}Inv{% endblock %}
{% block content %}

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="stylesheet" href="../static/buttons.css">
  <link rel="stylesheet" href="../static/tables.css">
  <script src="../static/scripts/updateFormInventory.js" async></script>
  <script src="../static/scripts/deleteAlert.js" async></script>
  <script src="../static/scripts/showscanner.js" async></script>
  <script src="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@9.0.0/dist/dbr.js"></script>
</head>

<style>
  html {
    margin-left: 30px;
  }
</style>
<style>
  table,
  td,
  th {
    border: 1px solid black;
    text-align: center;
    padding: 5px;
    width: 100px;
  }

  th {
    background-color: orange;
  }

  table {
    margin-bottom: 15px;
  }

  input {
    width: 100px;
  }

  td {
    white-space: nowrap;
    width: 100px;
  }

  /*ajusta las td al content*/
</style>
<br>
<h1>Movements</h1>
<br>
<p>Your movements will be shown here</p>

<!-- form for searching with filters -->
<form method="POST">
  <input type="text" name="search" id="search" placeholder="Search..">
  <select id="orderby" name="orderby">
    <option disabled="" value="" selected="">Order By:</option>
    <option value="newest">Newest</option>
    <option value="oldest">Older</option>
  </select>
  <input name="btn-srch" value="Search" type="submit" />
  <a id="qr_barcode" class="scannerButton" onclick="scannerF()">
    Open scanner
  </a>
  <a id="csv_v" class="csvButton" onclick="location.href='csv'">
    Import CSV
  </a>

  <!-- form for adding a product -->
  <form method="POST">
    <table>
      <tr>
        <th>Id</th>
        <th>Product</th>
        <th>Branch</th>
        <th>Quantity</th>
        <th>Date</th>
        <th>Action</th>
      </tr>
      <tr>
        <!-- row for adding a  product -->
        <td>
          {{ nextid }}
        </td>
        <td>
          <label for="name"></label>
          <select name="name" id="products">
            {% for prod in products %}
            <option value="{{prod.name}}">{{prod.name}}</option>
            {% endfor %}
          </select>
        </td>
        <td>
          <label for="branch">select s.</label>
          <select name="branch" id="branch">
            {% for s in branches%}
            <option value="{{s.name}}">{{s.name}}</option>
            {% endfor %}
          </select>
        </td>
        <td>
          <label for="quantity"></label>
          <input type="number" id="quantity" name="quantity" placeholder="" />
        </td>
        <td>
          <label for="date">current date time</label>
        </td>
        <td>
          <select name="in_out" id="in_out">
            <option value="in">In</option>
            <option value="out">Out</option>
          </select>
        </td>
        <td>
          <input id="btn-add" name="btn-add" value="add product" type="submit" />
        </td>
      </tr>
      <!-- start listing the products -->
      {% for p in movements %}
      <tr>
        <td>{{ p.id }}</td>
        <td>{{ prod_name[loop.index] }}</td>
        <td>{{ branch_name[loop.index] }}</td>
        <td>{{ p.quantity }}</td>
        <td>{{ p.date }}</td>
        <td>{{ p.in_out }}</td>
      </tr>
      {% endfor %}
    </table>

    {% endblock %}